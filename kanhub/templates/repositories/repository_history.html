{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Repository History" %}{% endblock %}

{% block content %}
<div class="container py-4">
  <nav class="nav nav-pills mb-3">
    <a href="{% url 'repositories:detail' pk=repository.id %}" class="nav-link">{% trans "Information" %}</a>
    <a href="{% url 'repositories:tasks' pk=repository.id %}" class="nav-link">{% trans "Tasks" %}</a>
    <a href="{% url 'repositories:history' pk=repository.id %}" class="nav-link active">{% trans "History" %}</a>
    <a href="{% url 'repositories:settings' pk=repository.id %}" class="nav-link">{% trans "Settings" %}</a>
    <a href="{% url 'repositories:calendar' pk=repository.id %}" class="nav-link">{% trans "Calendar" %}</a>
  </nav>

  {% if user.is_authenticated %}
    <div class="list-group">
      {% for history in histories %}
        <a href="{% url 'repositories:history_commit' pk=repository.id commit_id=history.id %}"
           class="list-group-item list-group-item-action">
          <h5 class="mb-1">{{ history.name }}</h5>
          <small>{% trans "View details" %}</small>
        </a>
      {% empty %}
        <p class="text-center">{% trans "No history is available for this repository yet." %}</p>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center">{% trans "You must be logged in to view this content." %}</p>
  {% endif %}
</div>
{% endblock %}
